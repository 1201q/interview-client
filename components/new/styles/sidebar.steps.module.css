.steps {
  background: rgba(133, 173, 255, 0.04);
  padding: 40px;

  position: relative;
  min-height: calc(100vh - 50px);
  overflow: hidden;
}
.steps::before {
  content: '';
  position: absolute;
  inset: -20%;
  background:
    radial-gradient(
      circle at 20% 30%,
      rgba(133, 173, 255, 0.06),
      transparent 60%
    ),
    radial-gradient(
      circle at 80% 40%,
      rgba(139, 92, 246, 0.04),
      transparent 70%
    ),
    radial-gradient(
      circle at 50% 80%,
      rgba(76, 134, 254, 0.06),
      transparent 65%
    ),
    radial-gradient(
      circle at 30% 70%,
      rgba(102, 237, 255, 0.05),
      transparent 65%
    );
  background-blend-mode: screen;
  filter: blur(40px);
  animation: auroraFlow 12s ease-in-out infinite alternate;
  z-index: 0;
}

.steps::after {
  content: '';
  position: absolute;
  inset: -30%;

  background: linear-gradient(
    45deg,
    rgba(163, 197, 255, 0.1) 0%,
    rgba(139, 92, 246, 0.05) 50%,
    rgba(102, 237, 255, 0.02) 100%
  );
  mix-blend-mode: screen;
  filter: blur(10px) saturate(120%);
  background-size: 160% 160%;

  animation:
    diagFlow 9s ease-in-out infinite alternate,
    hueShift 14s ease-in-out infinite alternate;
  z-index: 0;
}

.steps > * {
  position: relative;
  z-index: 1;
}

/* 기존 오로라 번짐 */
@keyframes auroraFlow {
  0% {
    background-position:
      15% 25%,
      75% 35%,
      45% 75%,
      25% 65%;
    background-size:
      100% 100%,
      100% 100%,
      100% 100%,
      100% 100%;
  }
  50% {
    background-position:
      35% 45%,
      65% 55%,
      65% 85%,
      45% 80%;
    background-size:
      150% 150%,
      140% 140%,
      160% 160%,
      145% 145%;
  }
  100% {
    background-position:
      20% 30%,
      70% 45%,
      55% 80%,
      35% 70%;
    background-size:
      100% 100%,
      100% 100%,
      100% 100%,
      100% 100%;
  }
}

@keyframes diagFlow {
  0% {
    background-position: 0% 0%;
    transform: translate(-4%, -4%) rotate(0deg);
  }
  100% {
    background-position: 100% 100%;
    transform: translate(4%, 4%) rotate(0deg);
  }
}

@keyframes hueShift {
  0% {
    filter: blur(60px) saturate(108%) hue-rotate(-8deg);
  }
  100% {
    filter: blur(62px) saturate(115%) hue-rotate(8deg);
  }
}

@media (prefers-reduced-motion: reduce) {
  .steps::before,
  .steps::after {
    animation: none;
  }
}

.loadingSteps {
  display: flex;
  flex-direction: column;
  flex: 1;
  background: var(--primary);
  padding: 40px 40px;

  box-shadow: var(--shadow-sm);
  position: relative;
  overflow: hidden;
  min-height: calc(100vh - 50px);
}

.loadingSteps::before,
.loadingSteps::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: radial-gradient(white 1px, transparent 1px);
  background-size: 22px 22px;
  opacity: 0.25;
  animation: ani 12s ease-in-out infinite alternate;
  pointer-events: none;
}
.loadingSteps::after {
  background-size: 26px 26px;
  opacity: 0.2;
  animation-duration: 12s;
  animation-direction: alternate-reverse;
  filter: blur(0.3px);
}

@keyframes ani {
  0% {
    transform: translate3d(0, 0, 0) scale(1) rotate(0);
  }
  50% {
    transform: translate3d(-3%, 2%, 0) scale(2) rotate(180deg);
  }
  100% {
    transform: translate3d(1%, -2%, 0) scale(1) rotate(360deg);
  }
}

/* .steps::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(
      circle at 20% 30%,
      rgba(76, 134, 254, 0.1),
      transparent 60%
    ),
    radial-gradient(
      circle at 80% 40%,
      rgba(139, 92, 246, 0.05),
      transparent 70%
    ),
    radial-gradient(circle at 50% 80%, rgba(76, 134, 254, 0.1), transparent 60%);
  background-blend-mode: screen;
  filter: blur(20px);
  animation: auroraMove 5s ease-in-out infinite alternate;
  z-index: 0;
}

@keyframes auroraMove {
  0% {
    background-position:
      20% 30%,
      80% 40%,
      50% 80%;
    background-size:
      100% 100%,
      100% 100%,
      100% 100%;
  }
  50% {
    background-position:
      30% 40%,
      70% 50%,
      60% 70%;
    background-size:
      120% 120%,
      110% 110%,
      130% 130%;
  }
  100% {
    background-position:
      25% 35%,
      75% 45%,
      55% 85%;
    background-size:
      100% 100%,
      100% 100%,
      100% 100%;
  }
} */

.stepsTitle {
  margin-bottom: 30px;
  font-weight: 500;
  font-size: 15px;
}

.stepList {
  display: flex;
  flex-direction: column;
  row-gap: 32px;
  position: relative;
}

.step {
  position: relative;
  display: flex;
  column-gap: 20px;
  z-index: 1;
}

.step::before {
  content: '';
  position: absolute;
  left: 17px; /* 아이콘 가운데 정렬 (icon width/2) */
  top: 0;
  bottom: -32px;
  width: 1.5px;
  background: none;
  opacity: 0.5;
  border-left: 1.5px dashed var(--neutral-5);
  z-index: 0;
}

/* 첫번째 step은 위 선 제거 */
.step:first-child::before {
  top: 18px; /* 아이콘 중심부터 시작 */
}

/* 마지막 step은 아래 선 제거 */
.step:last-child::before {
  bottom: auto;
  height: 18px;
}

/* 활성 단계는 실선으로 */
.stepCompleted::before {
  border-left: 1.5px solid var(--primary);
  opacity: 1;
}

.icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  background-color: var(--neutral-0);
  border-radius: 50%;
  box-shadow: var(--shadow-sm);
  position: relative;
  z-index: 1;
}

.icon svg {
  width: 18px;
  height: 18px;
  stroke: var(--neutral-5);
  fill: var(--neutral-2);
}

/* current - 현재 단계 아이콘 */
.stepCurrent .icon svg {
  fill: var(--color-primary-weak);
  stroke: var(--primary);
  stroke-width: 2.2px;
}

/* completed - 완료한 단계 */
.stepCompleted .icon {
  background-color: var(--primary);
}

.stepCompleted .icon svg {
  stroke: white;
  fill: none;
  stroke-width: 2.5px;
}

.stepContent {
  display: flex;
  flex-direction: column;
  flex: 1;
}

.stepTitle {
  color: var(--color-text);
  margin-bottom: 8px;
  font-weight: 800;
  font-size: 20px;
}

.stepDesc {
  font-size: 14px;
  letter-spacing: -0.2px;
  color: var(--color-text-muted);
}

.loadingTitle {
  font-size: 32px;
  font-weight: 600;
  color: var(--neutral-0);
  margin-bottom: 10px;
}

.loadingDesc {
  font-size: 18px;
  font-weight: 500;
  color: var(--neutral-0);
  margin-bottom: 20px;
}

.loadingPercent {
  font-size: 52px;
  font-weight: 800;
  color: var(--neutral-0);
  letter-spacing: -1.5px;
  margin-bottom: 10px;
}

.loadingRemainingTime {
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.3);
  color: var(--neutral-0);
  border-radius: 40px;
  padding: 5px 15px;
  font-size: 13px;
  width: fit-content;
}
